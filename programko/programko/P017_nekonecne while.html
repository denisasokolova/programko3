<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nekonecne while</title>
    <style>
        div{
            height: 200px;
            width: 100%;
            margin-bottom: 10px;
            background-color: rgb(117,156,191);
        }
    </style>
</head>
<body>
    <div id="disco">
        <button onclick="vypnout()"> vypni se!!!</button>
        <script>
            let spustit = false;
            let pomocna = 1;
            
            document.addEventListener("DOMContentLoaded" , () => {
                if (spustit) return;    
                    spustit = true;
                    cyklus();
            })
                function cyklus(){
                while (spustit) {
                    if (pomocna ==1) {
                        pomocna= 2;
                        document.getElementById("disco").style.backgroundColor = "red";
                        setTimeout(cyklus,1000);
                        
                    }
                    else{
                        pomocna=1;
                        document.getElementById("disco").style.backgroundColor = "blue";
                        setTimeout(cyklus,1000);
                    }
                } 
                }
            
        // U tohoto kodu doslo  preteceni -protoze se ocekava pri nacteni stranky ze provede nekonecny cyklus - nelze aplikovat break - pro ukonceni while;
         /*
            document-addEventListener("DOMContentLoaded", () =>{
                while (true) {
                        setInterval(() => {
                            document.getElementById("disco").style.backgroundColor = "blue";
                        },1000)
                        setInterval (() => {
                            document.getElementById("disco").style.backgroundColor = "red";
                        },2000)  
                } 
            })
        */    
            
        </script>
    </div>
</body>
</html>